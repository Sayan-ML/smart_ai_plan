{% extends "dashboard_base.html" %}

{% block content %}
<style>
  body {
    min-height: 100vh;
    background: linear-gradient(to bottom, #3a0ca3, #7209b7, #f72585);
    background-attachment: fixed;
    margin: 0;
    padding: 0; 
  }

  .news-header {
    text-align: center;
    margin: 30px 0 20px;
    color: white;
    padding: 0 20px; 
  }

  .news-header h1 {
    font-size: 2.8rem;
    margin-bottom: 10px;
  }

  .news-header p {
    font-size: 1.2rem;
    color: #ddd;
  }

  .news-container {
    width: 100%;
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 5px; 
    box-sizing: border-box;
  }

  .news-card {
    width: 100%;
    background: #2b2d42;
    padding: 25px;
    border-radius: 16px;
    box-shadow: 0 4px 12px rgba(0,0,0,0.4);
    color: white;
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.3s;
    margin: 20px 0;
    box-sizing: border-box;
  }

  .news-card:hover {
    transform: scale(1.01);
    box-shadow: 0 6px 18px rgba(0,0,0,0.5);
  }

  .news-title {
    font-size: 1.5rem;
    font-weight: bold;
    margin-bottom: 12px;
  }

  .news-description {
    font-size: 1.1rem;
    margin-bottom: 14px;
    color: #ddd;
  }

  .news-footer {
    font-size: 0.95rem;
    color: #aaa;
  }

  .error-msg {
    text-align: center;
    color: red;
    font-size: 1.1rem;
  }
</style>

<div class="news-header">
  <h1>üì∞ Today's Top News (India)</h1>
  <p>Stay updated with the latest headlines from India. Click on a card to read the full story.</p>
</div>

<div class="news-container">
  {% if news %}
    {% for article in news %}
      <div class="news-card" onclick="window.open('{{ article.url }}', '_blank')">
        <div class="news-title">{{ article.title }}</div>
        <div class="news-description">
          {{ article.description if article.description else "No description available." }}
        </div>
        <div class="news-footer">
          üóì Published at: {{ article.published_at }}
        </div>
      </div>
    {% endfor %}
  {% elif error %}
    <p class="error-msg">‚ùå Could not fetch news. {{ error }}</p>
  {% endif %}
</div>
{% endblock %}